<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>映像の盛り上がり体験</title>
<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"/>
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<meta name="keywords" content="">
<meta name="description" content="">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<style type="text/css">
html,body{
	margin:0;
}

.movs{
	position: relative;
	left: 0;
	top: 0;
	width: 100%;
}


#hidari{
  width:80px;height:80px;
  position:absolute;left:20px;bottom:40px;/*親要素に対する位置指定*/
  cursor:pointer;/*カーソルを指に変更*/
  z-index:1;
}


#migi{
  width:80px;height:80px;
  position:absolute;right:20px;bottom:40px;/*親要素に対する位置指定*/
  cursor:pointer;/*カーソルを指に変更*/
  z-index:1;
}

.koushin{
	width:80px;height:80px;
  position:absolute;right:20px;bottom:40px;/*親要素に対する位置指定*/
  cursor:pointer;/*カーソルを指に変更*/
  z-index:1;
}

</style>
<script>
var videoElem;

onload = function(){
	sizeChosei();
	$(window).resize(function(){
		sizeChosei();
	});
	
	videoElem = document.getElementById('movs');
	
	document.addEventListener('click', clickDisplayAlert);
	
	setInterval(loop, 42);
}

function koushin(){
  location.reload();
}
	
function sizeChosei(){
	$("html").css({"font-size":(window.innerWidth/100)+"px"});
}

function loop(){
	//console.log(videoElem.currentTime);
}

function clickDisplayAlert(num) {
	if(3.08 <= videoElem.currentTime && videoElem.currentTime < 3.54){
        if (num === 2) {
            console.log("migi: "+videoElem.currentTime);
			let now = videoElem.currentTime;
			videoElem.src = "movs/sippai2.mp4";
			videoElem.currentTime = now;
        } else if (num == 1 ) {
            console.log("movs/hidari: "+videoElem.currentTime);
			let now = videoElem.currentTime;
			videoElem.src = "movs/sippai1-2.mp4";
			videoElem.currentTime = now;
        } 
    }
    if(16.00 <= videoElem.currentTime && videoElem.currentTime < 16.41){
		if(num === 2){
			console.log("migi: "+videoElem.currentTime);
			let now = videoElem.currentTime;
			videoElem.src = "movs/sippai2-2.mp4";
			videoElem.currentTime = now;
        }else if(num == 1 ){
		    console.log("movs/hidari: "+videoElem.currentTime);
			let now = videoElem.currentTime;
			videoElem.src = "movs/sippai3.mp4";
			videoElem.currentTime = now;
		}
    }

    if(29.45 <= videoElem.currentTime && videoElem.currentTime < 29.95){
		if(num == 2 ){
			console.log("migi: "+videoElem.currentTime);
			let now = videoElem.currentTime;
			videoElem.src = "movs/sippai3-2.mp4";
			videoElem.currentTime = now;
        }else if(num == 1 ){
		    console.log("movs/hidari: "+videoElem.currentTime);
			let now = videoElem.currentTime;
			videoElem.src = "movs/seikou.mp4";
			videoElem.currentTime = now;
		}
    }
	
	return false; 
}


</script>
</head>
<body>
  <h1>Ver.2</h1>
　<ol>
　　<li>トンネルから外れないようにゴールまでたどり着くようにする。</li>
　　<li>「←」「→」の２つのボタンをダブルクリックして、正しい分岐を選ぶ。</li>
　　<li>正しい分岐を選ぶためにはダブルクリックするタイミングが重要。分岐先の様子が見えた直後、一定の間速度が落ちる。この間にいずれかをダブルクリックすると行先が変更される。</li>
　　<li>初めからやり直すには、「やり直す」ボタンを押す。なお、映像は自動再生のため注意。</li>
　</ol>
 <video id="movs" class="movs" src="movs/sippai1.mp4" autoplay muted></video>
   <input id="hidari" class="button" type="button"  value="←" onclick="clickDisplayAlert(1)">
   <input id="migi" class="button" type="button"  value="→" onclick="clickDisplayAlert(2)">
<input id="koushin" type="button"  value="やり直す" onclick="koushin()">
</body>
</html>
